(this.webpackJsonpapplication=this.webpackJsonpapplication||[]).push([[0],{213:function(e,t,a){e.exports=a(409)},408:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(13),c=a(14),l=a(16);var o={url:""},i=a(0),s=a.n(i),u=a(3),m=a.n(u),p=a(43),d=a(63);var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,data:{},error:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case"RECV_USER":return Object.assign({},e,{isLoading:!1,data:t.data,error:!1});case"REQ_USER":return Object.assign({},e,{isLoading:!0,error:!1});default:return e}};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,data:[],error:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case"RECV_PROXY":return Object.assign({},e,{isLoading:!1,data:t.data,error:!1});case"REQ_PROXY":return Object.assign({},e,{isLoading:!0,error:!1});case"REQ_PROXY_DELETE":var a=t.data,n=e.data.filter((function(e){return e._id!==a}));return Object.assign({},e,{isLoading:!0,data:n,error:!1});default:return e}},E=Object(d.c)({users:f,proxies:h}),g=a(184),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,y=Object(d.e)(E,b(Object(d.a)(g.a))),v=a(69),k=a(67),O=a(410),x=O.a.Footer,j=(s.a.Component,O.a.Header,O.a.Content),w=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(O.a,null,s.a.createElement(j,{style:{margin:"24px 16px 0",height:"100%",overflowY:"auto"}}))}}]),a}(s.a.Component),C=(O.a.Header,O.a.Content),_=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(O.a,null,s.a.createElement(C,{style:{background:"#fff",margin:"16px 12px 0",height:"100%",overflowY:"auto"}},"\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"))}}]),a}(s.a.Component),L=a(15),R=a.n(L),I=a(27),M=a(29),S=a.n(M);function T(e){return function(t){return t({type:"REQ_USER"}),S.a.get(e).then((function(e){t({type:"RECV_USER",data:e.data})})).catch((function(e){console.log(e)}))}}var V=a(99),P=a(74),D=a(21),A=a(414),U=a(419),X=a(420),Y=a(412),q=a(415),F=V.a.Option,H=o.url,B={labelCol:{span:8},wrapperCol:{span:16}},Q=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).setModalVisible=function(e){r.setState({modal:e})},r.setModalLoading=function(e){r.setState({loading:e})},r.onFinish=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setModalLoading(!0),e.next=3,S.a.post("".concat(H,"/api/users/new"),t.user);case 3:e.sent,y.dispatch(T("".concat(H,"/api/users/"))),r.setModalLoading(!1),r.setModalVisible(!1),r.reset();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.reset=function(){r.formRef.current.resetFields()},r.state={modal:!1,loading:!1},r.formRef=s.a.createRef(),r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.proxies.data;return console.log(t),s.a.createElement(P.a,{theme:"light",mode:"horizontal",style:{lineHeight:"64px"},selectable:!1},s.a.createElement(P.a.Item,{key:"1"},s.a.createElement(D.a,{icon:s.a.createElement(U.a,null),onClick:function(){return e.setModalVisible(!0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")),s.a.createElement(P.a.Item,{key:"2",danger:!0},s.a.createElement(D.a,{icon:s.a.createElement(X.a,null),onClick:function(){return console.log("Update")}},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435")),s.a.createElement(A.a,{title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",wrapClassName:"vertical-center-modal",visible:this.state.modal,confirmLoading:this.state.loading,onCancel:function(){return e.setModalVisible(!1)},cancelText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",okText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",okButtonProps:{form:"new-user",key:"submit",htmlType:"submit"}},s.a.createElement(Y.a,Object.assign({},B,{name:"new-user",onFinish:this.onFinish,ref:this.formRef}),s.a.createElement(Y.a.Item,{name:["user","name"],label:"\u0418\u043c\u044f",rules:[{required:!0}]},s.a.createElement(q.a,null)),s.a.createElement(Y.a.Item,{name:["user","user_agent"],label:"UserAgent",rules:[{required:!0}]},s.a.createElement(q.a,{defaultValue:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_2) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.4 Safari/605.1.15"})),s.a.createElement(Y.a.Item,{name:["user","access_token"],label:"AccessToken",rules:[{required:!0}]},s.a.createElement(q.a,{defaultValue:"EAAGNO4a7r2wBADA3DZCUbPoGoBcj2qQXwP5ldqaBCwQ11VmoIRDcZCYWrGBWiTid8s7FZCZAZCXrp0g1dkMu8LwGMZAMaHYRe9uvzY86e0BtH7LJUKsGbSygib6kw3qmQh2oCHGODc7Enwi4o1JRBAnNVDXQMDLfKv96ElM3OWwXQ586wN5L6H"})),s.a.createElement(Y.a.Item,{name:["user","proxy_id"],label:"Proxy",rules:[{required:!0}]},s.a.createElement(V.a,{showSearch:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u043a\u0441\u0438",optionFilterProp:"children",filterOption:function(e,t){return t.children.indexOf(e)>=0}},t.map((function(e){return console.log(1),s.a.createElement(F,{value:e._id},s.a.createElement("span",{style:{color:"green"}},e.region)," ","/ ",e.name," / ",e.ip,":",e.port," (",e.region,")")})))))))}}]),a}(s.a.Component);var N=Object(p.b)((function(e){return{proxies:e.proxies}}))(Q),z=a(41),G=a(413),Z=a(418),K=a(200),W=a(88),J=a(421),$=a(422),ee=o.url,te=s.a.createElement(J.a,{style:{fontSize:24},spin:!0}),ae=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).usersList=function(){console.log(e.props);var t=[],a=e.props.users.data;return a.length&&a.forEach((function(a){t.push(s.a.createElement(z.a,{className:"gutter-row",span:4,xxl:4,xl:6,lg:6,md:6,sm:8,xs:12},s.a.createElement(G.a,{title:a.name,extra:s.a.createElement("a",{href:"#"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"),style:{width:300},actions:[s.a.createElement(Z.a,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",cancelText:"\u041d\u0435\u0442",okText:"\u0414\u0430",icon:s.a.createElement($.a,{style:{color:"red"}}),onConfirm:function(){return e.handleDelete(a)}},s.a.createElement(D.a,{danger:!0,type:"link"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),s.a.createElement(Z.a,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",cancelText:"\u041d\u0435\u0442",okText:"\u0414\u0430",icon:s.a.createElement(X.a,null),onConfirm:function(){return e.handleUpdate(a)}},s.a.createElement(D.a,{type:"link",className:"link-success"},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"))]},s.a.createElement("div",null,s.a.createElement("p",null,"Business Managers:"),s.a.createElement("ul",null,a.bms.map((function(e){return s.a.createElement("li",null,e.name,e.ad_accounts.length>0&&s.a.createElement("div",null,s.a.createElement("small",{style:{marginLeft:"12px"}},"Ad Accounts:"),s.a.createElement("ul",null,e.ad_accounts.map((function(e){return s.a.createElement("li",null,s.a.createElement("small",null,e.name," ","(",e.account_status_text,")"))})))),e.pages.length>0&&s.a.createElement("div",null,s.a.createElement("small",{style:{marginLeft:"12px"}},"Pages:"),s.a.createElement("ul",null,e.pages.map((function(e){return s.a.createElement("li",null,s.a.createElement("small",null,e.name))})))))})))))))})),t},e}return Object(r.a)(a,[{key:"handleDelete",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(ee,"/api/users/remove/").concat(t._id));case 2:e.sent.data.success&&y.dispatch(T("".concat(ee,"/api/users/")));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleUpdate",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Update user");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.props),s.a.createElement(K.a,{spinning:this.props.users.isLoading,size:"large",indicator:te,tip:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",style:{fontSize:"20px",marginTop:"25%"},alignment:"middle"},s.a.createElement(W.a,{gutter:12,style:{padding:"20px"}},this.usersList()))}}]),a}(s.a.Component);var ne=Object(p.b)((function(e){return{users:e.users}}))(ae),re=O.a.Header,ce=O.a.Content,le=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(O.a,null,s.a.createElement(re,{style:{background:"#fff",padding:"0"}},s.a.createElement(N,null)),s.a.createElement(ce,{style:{background:"#fff",margin:"16px 12px 0",height:"100%",overflowY:"auto"}},s.a.createElement(ne,null)))}}]),a}(s.a.Component),oe=a(423),ie=a(424),se=a(425),ue=a(426),me=a(427),pe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(P.a,{theme:"dark",mode:"inline",style:{height:"100%"},defaultSelectedKeys:["1"]},s.a.createElement(P.a.Item,{key:"1"},s.a.createElement(v.b,{to:"/home"},s.a.createElement(oe.a,null),"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),s.a.createElement(P.a.Item,{key:"2"},s.a.createElement(v.b,{to:"/users"},s.a.createElement(ie.a,null),"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),s.a.createElement(P.a.Item,{key:"3"},s.a.createElement(v.b,{to:"/proxies"},s.a.createElement(se.a,null),"\u041f\u0440\u043e\u043a\u0441\u0438")),s.a.createElement(P.a.Item,{key:"4"},s.a.createElement(v.b,{to:"/settings"},s.a.createElement(ue.a,null),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")),s.a.createElement(P.a.Item,{key:"5"},s.a.createElement(v.b,{href:"/logout"},s.a.createElement(me.a,null),"\u0412\u044b\u0439\u0442\u0438")))}}]),a}(s.a.Component);function de(e){return function(t){return t({type:"REQ_PROXY"}),S.a.get(e).then((function(e){t({type:"RECV_PROXY",data:e.data})})).catch((function(e){console.log(e)}))}}V.a.Option;var fe={labelCol:{span:8},wrapperCol:{span:16}},he=o.url,Ee=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).setModalVisible=function(e){r.setState({modal:e})},r.setModalLoading=function(e){r.setState({loading:e})},r.onFinish=function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setModalLoading(!0),e.next=3,S.a.post("".concat(he,"/api/proxies/new"),t.proxy);case 3:e.sent,y.dispatch(de("".concat(he,"/api/proxies/"))),r.setModalLoading(!1),r.setModalVisible(!1),r.reset();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.reset=function(){r.formRef.current.resetFields()},r.state={modal:!1,loading:!1},r.formRef=s.a.createRef(),r}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(P.a,{theme:"light",mode:"horizontal",style:{lineHeight:"64px"},selectable:!1},s.a.createElement(P.a.Item,{key:"1"},s.a.createElement(D.a,{icon:s.a.createElement(U.a,null),onClick:function(){return e.setModalVisible(!0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043a\u0441\u0438")),s.a.createElement(A.a,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u043a\u0441\u0438",wrapClassName:"vertical-center-modal",visible:this.state.modal,confirmLoading:this.state.loading,onCancel:function(){return e.setModalVisible(!1)},cancelText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",okText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",okButtonProps:{form:"new-proxy",key:"submit",htmlType:"submit"}},s.a.createElement(Y.a,Object.assign({},fe,{name:"new-proxy",onFinish:this.onFinish,ref:this.formRef}),s.a.createElement(Y.a.Item,{name:["proxy","name"],label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",rules:[{required:!0}]},s.a.createElement(q.a,null)),s.a.createElement(Y.a.Item,{name:["proxy","region"],label:"\u0420\u0435\u0433\u0438\u043e\u043d",rules:[{required:!0}]},s.a.createElement(q.a,{placeholder:"US"})),s.a.createElement(Y.a.Item,{name:["proxy","ip"],label:"IP",rules:[{required:!0}],help:"* only http proxies"},s.a.createElement(q.a,{placeholder:"127.0.0.1"})),s.a.createElement(Y.a.Item,{name:["proxy","port"],label:"PORT",rules:[{required:!0}]},s.a.createElement(q.a,{placeholder:"3128"})))))}}]),a}(s.a.Component),ge=a(416),be=a(417),ye=a(411),ve=O.a.Header,ke=O.a.Content,Oe=o.url,xe=function(e,t){switch(e){case"success":ge.a.success(t);break;case"error":ge.a.error(t);break;case"warning":ge.a.warning(t)}},je=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={checkLoaders:{}},r}return Object(r.a)(a,[{key:"dataSource",value:function(){return this.props.proxies.data}},{key:"columns",value:function(){var e=this,t=[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.length==t.name.length},sortDirections:["descend","ascend"]},{title:"\u0420\u0435\u0433\u0438\u043e\u043d",dataIndex:"region",key:"region",sorter:function(e,t){return e.region.length==t.region.length},sortDirections:["descend","ascend"],render:function(e){return s.a.createElement("span",null,s.a.createElement(be.a,{color:"green",key:e},e))}},{title:"IP",dataIndex:"ip",key:"ip"},{title:"Port",key:"port",dataIndex:"port"},{title:"\u0424\u0443\u043d\u043a\u0446\u0438\u0438",key:"action",render:function(t,a){return[s.a.createElement(Z.a,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",cancelText:"\u041d\u0435\u0442",okText:"\u0414\u0430",icon:s.a.createElement($.a,{style:{color:"red"}}),onConfirm:function(){return e.handleDelete(a)}},s.a.createElement(D.a,{type:"link",danger:!0},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),s.a.createElement(D.a,{loading:e.state.checkLoaders[a._id],type:"link",onClick:function(){e.handleCheck(a)}},"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c")]}}];return t}},{key:"setCheck_Loader",value:function(e,t){var a=this.state.checkLoaders;a[e]=t,this.setState({loadings:a})}},{key:"handleDelete",value:function(){var e=Object(I.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(Oe,"/api/proxies/remove/").concat(t._id));case 2:e.sent.data.success&&y.dispatch(de("".concat(Oe,"/api/proxies/")));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCheck",value:function(){var e=Object(I.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setCheck_Loader(t._id,!0),console.log(t),e.next=4,S.a.get("".concat(Oe,"/api/proxies/").concat(t._id,"/check"));case 4:(a=(a=e.sent).data).success?xe("success","\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0440\u043e\u043a\u0441\u0438 (".concat(a.proxy.name,") \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e")):a.err&&xe("error",a.err),this.setCheck_Loader(t._id,!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(O.a,null,s.a.createElement(ve,{style:{background:"#fff",padding:0}},s.a.createElement(Ee,null)),s.a.createElement(ke,{style:{background:"#fff",margin:"16px 12px 0",height:"100%",overflowY:"auto"}},s.a.createElement(ye.a,{dataSource:this.dataSource(),columns:this.columns()})))}}]),a}(s.a.Component);var we=Object(p.b)((function(e){return{proxies:e.proxies}}))(je),Ce=O.a.Sider,_e=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"test",value:function(){console.log(this.props.config)}},{key:"render",value:function(){return s.a.createElement(v.a,null,s.a.createElement(O.a,{style:{height:"100%"}},s.a.createElement(Ce,{breakpoint:"lg",collapsedWidth:"0",onCollapse:function(e,t){console.log(e,t)},stype:{position:"fixed"}},s.a.createElement(pe,null)),s.a.createElement(k.a,{exact:!0,path:"/home",component:w}),s.a.createElement(k.a,{path:"/users",component:le}),s.a.createElement(k.a,{path:"/proxies",component:we}),s.a.createElement(k.a,{path:"/settings",component:_})))}}]),a}(s.a.Component);var Le=Object(p.b)((function(e){return{config:e.config,files:e.files,user:e.user}}))(_e),Re=(a(408),document.getElementById("root")),Ie=o.url;var Me=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){y.dispatch(de("".concat(Ie,"/api/proxies"))),y.dispatch(T("".concat(Ie,"/api/users"))),console.log("Loading data...")}},{key:"render",value:function(){return s.a.createElement(p.a,{store:y},s.a.createElement(Le,null))}}]),a}(s.a.Component);m.a.render(s.a.createElement(Me,null),Re)}},[[213,1,2]]]);
//# sourceMappingURL=main.07b24287.chunk.js.map