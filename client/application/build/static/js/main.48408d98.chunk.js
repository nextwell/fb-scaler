(this.webpackJsonpapplication=this.webpackJsonpapplication||[]).push([[0],{212:function(e,t,a){e.exports=a(406)},405:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(12),l=a(14),o=a(15);var c={url:""},i=a(0),s=a.n(i),u=a(3),m=a.n(u),p=a(42),d=a(62);var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,data:{},error:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case"RECV_USER":return Object.assign({},e,{isLoading:!1,data:t.data,error:!1});case"REQ_USER":return Object.assign({},e,{isLoading:!0,error:!1});default:return e}};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,data:[],error:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case"RECV_PROXY":return Object.assign({},e,{isLoading:!1,data:t.data,error:!1});case"REQ_PROXY":return Object.assign({},e,{isLoading:!0,error:!1});case"REQ_PROXY_DELETE":var a=t.data,n=e.data.filter((function(e){return e._id!==a}));return Object.assign({},e,{isLoading:!0,data:n,error:!1});default:return e}},E=Object(d.c)({users:f,proxies:h}),g=a(182),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,y=Object(d.e)(E,b(Object(d.a)(g.a))),v=a(68),O=a(66),x=a(407),j=x.a.Footer,k=(s.a.Component,x.a.Header,x.a.Content),C=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(x.a,null,s.a.createElement(k,{style:{margin:"24px 16px 0",height:"100%",overflowY:"auto"}}))}}]),a}(s.a.Component),w=(x.a.Header,x.a.Content),R=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(x.a,null,s.a.createElement(w,{style:{background:"#fff",margin:"16px 12px 0",height:"100%",overflowY:"auto"}},"\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"))}}]),a}(s.a.Component),_=a(17),I=a.n(_),L=a(33),S=a(32),M=a.n(S);function T(e){return function(t){return t({type:"REQ_USER"}),M.a.get(e).then((function(e){t({type:"RECV_USER",data:e.data})})).catch((function(e){console.log(e)}))}}var P=a(98),V=a(73),D=a(20),F=a(411),Y=a(415),q=a(409),U=a(412),X=P.a.Option,H=c.url,z={labelCol:{span:8},wrapperCol:{span:16}},A=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).setModalVisible=function(e){r.setState({modal:e})},r.setModalLoading=function(e){r.setState({loading:e})},r.onFinish=function(){var e=Object(L.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setModalLoading(!0),e.next=3,M.a.post("".concat(H,"/api/users/new"),t.user);case 3:e.sent,y.dispatch(T("".concat(H,"/api/users/"))),r.setModalLoading(!1),r.setModalVisible(!1),r.reset();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.reset=function(){r.formRef.current.resetFields()},r.state={modal:!1,loading:!1},r.formRef=s.a.createRef(),r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.proxies.data;return console.log(t),s.a.createElement(V.a,{theme:"light",mode:"horizontal",style:{lineHeight:"64px"},selectable:!1},s.a.createElement(V.a.Item,{key:"1"},s.a.createElement(D.a,{icon:s.a.createElement(Y.a,null),onClick:function(){return e.setModalVisible(!0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")),s.a.createElement(F.a,{title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",wrapClassName:"vertical-center-modal",visible:this.state.modal,confirmLoading:this.state.loading,onCancel:function(){return e.setModalVisible(!1)},cancelText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",okText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",okButtonProps:{form:"new-user",key:"submit",htmlType:"submit"}},s.a.createElement(q.a,Object.assign({},z,{name:"new-user",onFinish:this.onFinish,ref:this.formRef}),s.a.createElement(q.a.Item,{name:["user","name"],label:"\u0418\u043c\u044f",rules:[{required:!0}]},s.a.createElement(U.a,null)),s.a.createElement(q.a.Item,{name:["user","user_agent"],label:"UserAgent",rules:[{required:!0}]},s.a.createElement(U.a,null)),s.a.createElement(q.a.Item,{name:["user","access_token"],label:"AccessToken",rules:[{required:!0}]},s.a.createElement(U.a,null)),s.a.createElement(q.a.Item,{name:["user","proxy_id"],label:"Proxy",rules:[{required:!0}]},s.a.createElement(P.a,{showSearch:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u043a\u0441\u0438",optionFilterProp:"children",filterOption:function(e,t){return t.children.indexOf(e)>=0}},t.map((function(e){return console.log(1),s.a.createElement(X,{value:e._id},s.a.createElement("span",{style:{color:"green"}},e.region)," ","/ ",e.name," / ",e.ip,":",e.port," (",e.region,")")})))))))}}]),a}(s.a.Component);var N=Object(p.b)((function(e){return{proxies:e.proxies}}))(A),Q=a(40),B=a(410),J=a(414),K=a(200),W=a(87),G=a(416),Z=a(417),$=c.url,ee=s.a.createElement(G.a,{style:{fontSize:24},spin:!0}),te=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).usersList=function(){console.log(e.props);var t=[],a=e.props.users.data;return a.length&&a.forEach((function(a){t.push(s.a.createElement(Q.a,{className:"gutter-row",span:4,xxl:4,xl:6,lg:6,md:6,sm:8,xs:12},s.a.createElement(B.a,{title:a.name,extra:s.a.createElement("a",{href:"#"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"),style:{width:300},actions:[s.a.createElement(J.a,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",cancelText:"\u041d\u0435\u0442",okText:"\u0414\u0430",icon:s.a.createElement(Z.a,{style:{color:"red"}}),onConfirm:function(){return e.handleDelete(a)}},s.a.createElement(D.a,{type:"link",danger:!0},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))]},s.a.createElement("div",null,s.a.createElement("p",null,"Business Managers:"),s.a.createElement("ul",null,a.bms.map((function(e){return s.a.createElement("li",null,e.name,e.ad_accounts.length>0&&s.a.createElement("div",null,s.a.createElement("small",{style:{marginLeft:"12px"}},"Ad Accounts:"),s.a.createElement("ul",null,e.ad_accounts.map((function(e){return s.a.createElement("li",null,s.a.createElement("small",null,e.name," ","(",e.account_status_text,")"))})))),e.pages.length>0&&s.a.createElement("div",null,s.a.createElement("small",{style:{marginLeft:"12px"}},"Pages:"),s.a.createElement("ul",null,e.pages.map((function(e){return s.a.createElement("li",null,s.a.createElement("small",null,e.name))})))))})))))))})),t},e}return Object(r.a)(a,[{key:"handleDelete",value:function(){var e=Object(L.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat($,"/api/users/remove/").concat(t._id));case 2:e.sent.data.success&&y.dispatch(T("".concat($,"/api/users/")));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.props),s.a.createElement(K.a,{spinning:this.props.users.isLoading,size:"large",indicator:ee,tip:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",style:{fontSize:"20px",marginTop:"25%"},alignment:"middle"},s.a.createElement(W.a,{gutter:12,style:{padding:"20px"}},this.usersList()))}}]),a}(s.a.Component);var ae=Object(p.b)((function(e){return{users:e.users}}))(te),ne=x.a.Header,re=x.a.Content,le=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(x.a,null,s.a.createElement(ne,{style:{background:"#fff",padding:"0"}},s.a.createElement(N,null)),s.a.createElement(re,{style:{background:"#fff",margin:"16px 12px 0",height:"100%",overflowY:"auto"}},s.a.createElement(ae,null)))}}]),a}(s.a.Component),oe=a(418),ce=a(419),ie=a(420),se=a(421),ue=a(422),me=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(V.a,{theme:"dark",mode:"inline",style:{height:"100%"},defaultSelectedKeys:["1"]},s.a.createElement(V.a.Item,{key:"1"},s.a.createElement(v.b,{to:"/home"},s.a.createElement(oe.a,null),"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),s.a.createElement(V.a.Item,{key:"2"},s.a.createElement(v.b,{to:"/users"},s.a.createElement(ce.a,null),"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),s.a.createElement(V.a.Item,{key:"3"},s.a.createElement(v.b,{to:"/proxies"},s.a.createElement(ie.a,null),"\u041f\u0440\u043e\u043a\u0441\u0438")),s.a.createElement(V.a.Item,{key:"4"},s.a.createElement(v.b,{to:"/settings"},s.a.createElement(se.a,null),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")),s.a.createElement(V.a.Item,{key:"5"},s.a.createElement(v.b,{href:"/logout"},s.a.createElement(ue.a,null),"\u0412\u044b\u0439\u0442\u0438")))}}]),a}(s.a.Component);function pe(e){return function(t){return t({type:"REQ_PROXY"}),M.a.get(e).then((function(e){t({type:"RECV_PROXY",data:e.data})})).catch((function(e){console.log(e)}))}}P.a.Option;var de={labelCol:{span:8},wrapperCol:{span:16}},fe=c.url,he=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).setModalVisible=function(e){r.setState({modal:e})},r.setModalLoading=function(e){r.setState({loading:e})},r.onFinish=function(){var e=Object(L.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setModalLoading(!0),e.next=3,M.a.post("".concat(fe,"/api/proxies/new"),t.proxy);case 3:e.sent,y.dispatch(pe("".concat(fe,"/api/proxies/"))),r.setModalLoading(!1),r.setModalVisible(!1),r.reset();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.reset=function(){r.formRef.current.resetFields()},r.state={modal:!1,loading:!1},r.formRef=s.a.createRef(),r}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(V.a,{theme:"light",mode:"horizontal",style:{lineHeight:"64px"},selectable:!1},s.a.createElement(V.a.Item,{key:"1"},s.a.createElement(D.a,{icon:s.a.createElement(Y.a,null),onClick:function(){return e.setModalVisible(!0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043a\u0441\u0438")),s.a.createElement(F.a,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u043a\u0441\u0438",wrapClassName:"vertical-center-modal",visible:this.state.modal,confirmLoading:this.state.loading,onCancel:function(){return e.setModalVisible(!1)},cancelText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",okText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",okButtonProps:{form:"new-proxy",key:"submit",htmlType:"submit"}},s.a.createElement(q.a,Object.assign({},de,{name:"new-proxy",onFinish:this.onFinish,ref:this.formRef}),s.a.createElement(q.a.Item,{name:["proxy","name"],label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",rules:[{required:!0}]},s.a.createElement(U.a,null)),s.a.createElement(q.a.Item,{name:["proxy","region"],label:"\u0420\u0435\u0433\u0438\u043e\u043d",rules:[{required:!0}]},s.a.createElement(U.a,{placeholder:"US"})),s.a.createElement(q.a.Item,{name:["proxy","ip"],label:"IP",rules:[{required:!0}],help:"* only http proxies"},s.a.createElement(U.a,{placeholder:"127.0.0.1"})),s.a.createElement(q.a.Item,{name:["proxy","port"],label:"PORT",rules:[{required:!0}]},s.a.createElement(U.a,{placeholder:"3128"})))))}}]),a}(s.a.Component),Ee=a(413),ge=a(408),be=x.a.Header,ye=x.a.Content,ve=c.url,Oe=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"dataSource",value:function(){return this.props.proxies.data}},{key:"columns",value:function(){var e=this,t=[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.length==t.name.length},sortDirections:["descend","ascend"]},{title:"\u0420\u0435\u0433\u0438\u043e\u043d",dataIndex:"region",key:"region",sorter:function(e,t){return e.region.length==t.region.length},sortDirections:["descend","ascend"],render:function(e){return s.a.createElement("span",null,s.a.createElement(Ee.a,{color:"green",key:e},e))}},{title:"IP",dataIndex:"ip",key:"ip"},{title:"Port",key:"port",dataIndex:"port"},{title:"\u0424\u0443\u043d\u043a\u0446\u0438\u0438",key:"action",render:function(t,a){return s.a.createElement(J.a,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",cancelText:"\u041d\u0435\u0442",okText:"\u0414\u0430",icon:s.a.createElement(Z.a,{style:{color:"red"}}),onConfirm:function(){return e.handleDelete(a)}},s.a.createElement(D.a,{type:"link",danger:!0},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))}}];return t}},{key:"handleDelete",value:function(){var e=Object(L.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(ve,"/api/proxies/remove/").concat(t._id));case 2:e.sent.data.success&&y.dispatch(pe("".concat(ve,"/api/proxies/")));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(x.a,null,s.a.createElement(be,{style:{background:"#fff",padding:0}},s.a.createElement(he,null)),s.a.createElement(ye,{style:{background:"#fff",margin:"16px 12px 0",height:"100%",overflowY:"auto"}},s.a.createElement(ge.a,{dataSource:this.dataSource(),columns:this.columns()})))}}]),a}(s.a.Component);var xe=Object(p.b)((function(e){return{proxies:e.proxies}}))(Oe),je=x.a.Sider,ke=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"test",value:function(){console.log(this.props.config)}},{key:"render",value:function(){return s.a.createElement(v.a,null,s.a.createElement(x.a,{style:{height:"100%"}},s.a.createElement(je,{breakpoint:"lg",collapsedWidth:"0",onCollapse:function(e,t){console.log(e,t)},stype:{position:"fixed"}},s.a.createElement(me,null)),s.a.createElement(O.a,{exact:!0,path:"/home",component:C}),s.a.createElement(O.a,{path:"/users",component:le}),s.a.createElement(O.a,{path:"/proxies",component:xe}),s.a.createElement(O.a,{path:"/settings",component:R})))}}]),a}(s.a.Component);var Ce=Object(p.b)((function(e){return{config:e.config,files:e.files,user:e.user}}))(ke),we=(a(405),document.getElementById("root")),Re=c.url;var _e=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){y.dispatch(pe("".concat(Re,"/api/proxies"))),y.dispatch(T("".concat(Re,"/api/users"))),console.log("Loading data...")}},{key:"render",value:function(){return s.a.createElement(p.a,{store:y},s.a.createElement(Ce,null))}}]),a}(s.a.Component);m.a.render(s.a.createElement(_e,null),we)}},[[212,1,2]]]);
//# sourceMappingURL=main.48408d98.chunk.js.map